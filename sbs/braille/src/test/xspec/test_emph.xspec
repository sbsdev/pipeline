<?xml version="1.0" encoding="utf-8"?>
<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
	       xmlns:dtb="http://www.daisy.org/z3986/2005/dtbook/"
	       xmlns:brl="http://www.daisy.org/z3986/2009/braille/"
               stylesheet="../resources/block-translate.xsl"
	       preserve-space="dtb:p dtb:byline dtb:author dtb:li dtb:lic dtb:doctitle dtb:docauthor dtb:span dtb:em dtb:strong brl:emph dtb:line dtb:h1 dtb:h2 dtb:h3 dtb:h4 dtb:h5 dtb:h6">

  <x:param name="contraction-grade">2</x:param>
  <x:param name="ascii-braille">yes</x:param>

  <x:scenario label="Single word emphasis">
    <x:context>
      <dtb:em xml:lang="de" brl:render="emph2">foo</dtb:em>
    </x:context>
    <x:expect label="braille">
      <dtb:em xml:lang="de" brl:render="emph2">!_FOO</dtb:em>
    </x:expect>
  </x:scenario>

  <x:scenario label="Multi word emphasis">
    <x:context>
      <dtb:em xml:lang="de" brl:render="emph2">foo bar</dtb:em>
    </x:context>
    <x:expect label="braille">
      <dtb:em xml:lang="de" brl:render="emph2">!!_FOO BAR!.</dtb:em>
    </x:expect>
  </x:scenario>

  <x:scenario label="Single word mixed emphasis">
    <x:context>
      <stub xml:lang="de"><dtb:em brl:render="emph2">Foo</dtb:em>bar</stub>
    </x:context>
    <x:expect label="braille">
      <stub xml:lang="de"><dtb:em brl:render="emph2">!_FOO!.</dtb:em>BAR</stub>
    </x:expect>
  </x:scenario>

  <x:scenario label="Single word mixed emphasis">
    <x:context>
      <stub xml:lang="de">Foo<dtb:em brl:render="emph2">bar</dtb:em></stub>
    </x:context>
    <x:expect label="braille">
      <stub xml:lang="de">FOO<dtb:em brl:render="emph2">!_BAR</dtb:em></stub>
    </x:expect>
  </x:scenario>

  <x:scenario label="Single word mixed emphasis">
    <x:context>
      <stub xml:lang="de">Foo<dtb:em brl:render="emph2">bar</dtb:em>baz</stub>
    </x:context>
    <x:expect label="braille">
      <stub xml:lang="de">FOO<dtb:em brl:render="emph2">!_BAR!.</dtb:em>BAZ</stub>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis word after">
    <x:context>
      <dtb:p xml:lang="de"><dtb:em>kursiv</dtb:em>blo</dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de"><dtb:em>_KURSIV'.</dtb:em>BLO</dtb:p>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis word before">
    <x:context>
      <dtb:p xml:lang="de">bla<dtb:em>kursiv</dtb:em></dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de">BLA<dtb:em>'_KURSIV</dtb:em></dtb:p>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis word on both sides">
    <x:context>
      <dtb:p xml:lang="de">bla<dtb:em>kursiv</dtb:em>blo</dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de">BLA<dtb:em>'_KURSIV'.</dtb:em>BLO</dtb:p>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis ellipsis after">
    <x:context>
      <dtb:p xml:lang="de"><dtb:em>kursiv</dtb:em>...blo</dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de"><dtb:em>_KURSIV'.</dtb:em>...BLO</dtb:p>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis ellipsis before">
    <x:context>
      <dtb:p xml:lang="de">bla...<dtb:em>kursiv</dtb:em></dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de">BLA...<dtb:em>'_KURSIV</dtb:em></dtb:p>
    </x:expect>
  </x:scenario>

  <x:scenario label="Mixed emphasis ellipsis on both sides">
    <x:context>
      <dtb:p xml:lang="de">bla...<dtb:em>kursiv</dtb:em>...blo</dtb:p>
    </x:context>
    <x:expect label="braille">
      <dtb:p xml:lang="de">BLA...<dtb:em>'_KURSIV'.</dtb:em>...BLO</dtb:p>
    </x:expect>
  </x:scenario>

</x:description>
